<md-dialog class="register-pop-up" aria-label="Update Job">

<md-toolbar >
    <div class="md-toolbar-tools">
      <h2>{{LANG.JOB.LABEL.UPDATE_JOB}}</h2>
      <span flex></span>
      <md-button class="md-icon-button" ng-click="cancel()">
        <md-icon md-font-icon="icon icon-close" aria-label="Close dialog"></md-icon>
      </md-button>
    </div>

    <div class="toolbar-content">
    </div>

  </md-toolbar>


    <form name="form.update_job" class="full-height" novalidate>
        <div class="full-height" layout="column" layout-align="space-between center">
            <md-dialog-content class="full-width">
                <!-- <div layout="row">
                    <h2 class="md-title">{{LANG.JOB.LABEL.UPDATE_JOB}}</h2>
                </div> -->
                <md-input-container md-no-float>
                    <input type="text" name="jobName" placeholder="Job Name" required ng-model="formModel.update_job.title" ng-maxlength="50" ng-pattern="/^[ A-Za-z0-9_\-\&\'\().]*$/" ng-trim>
                    <div ng-messages="form.update_job.jobName.$error">
                        <div ng-message="maxlength" class="ng-message">{{LANG.JOB.JOB_CREATE_VALIDATION_MSGS.JOB_NAME_LIMIT}}</div>
                        <div ng-message="pattern" class="ng-message">Only letters, numbers, spaces and special characters _,-,&,',(,),. are allowed in the Job name.
                        </div>
                    </div>
                </md-input-container>
                <md-input-container flex>
                    <label>{{LANG.JOB.LABEL.DESCRIPTION}}</label>
                    <textarea name="jobDesc" required ng-model="formModel.update_job.desc" columns="1" md-maxlength="256"></textarea>
                    <div ng-messages="form.update_job.jobDesc.$error">
                        <div ng-message="md-maxlength" class="ng-message">Please limit the Job description to 256 characters.</div>
                    </div>
                </md-input-container>
  
        <div class="row reminder-div">
        <span for="endtimeType" class="col-form-label" style="margin-bottom:10px;">Required Job Completion Time:</span>
        </div>
              <div class="row reminder-div">
               <div class="col-sm-4 col-pad-0 ">
                  <select class="form-control" name="endtimeType"      
                     ng-model="formModel.update_job.endtimeType" 
                     ng-options="opt.value as opt.label for opt in jobendTimeValueTypes"></select>  
               </div>
               <div  class="col-sm-1 col-pad-0">
                  <label ng-if="formModel.update_job.endtimeType=='-523'" for="beforeevery" class="col-form-label">Next</label>
               </div>
               <div ng-if="formModel.update_job.endtimeType!='-520'" class="col-sm-1 col-pad-0">
                  <input class="form-control wd-50" type="number" min="1" max="99" ng-model="formModel.update_job.endTimeValue" width="100%" > 
               </div>
               <div ng-if="formModel.update_job.endtimeType=='-520'" class="col-sm-4 col-pad-0">
                  <datepicker datepicker-class="" class="input-group date end-dt-picker" selector="form-control" date-format="{{eventDateFormat}}"  date-min-limit="{{minDate}}"
                     button-prev="<i class='fa fa-arrow-left'></i>" class="form-control" 
                     button-next="<i class='fa fa-arrow-right'></i>">
                     <div class="input-group inner-addon right-addon">
                        <i class="glyphicon glyphicon-calendar"></i>
                        <input name="endDate"  ng-model="formModel.update_job.expectedFinishDate" class="form-control event-icon"
                           style="font-family: inherit;" placeholder="Choose Date"  />  
                     </div>
                  </datepicker>
               </div>
               <div class="col-sm-2">
                  <label for="totime" class="col-form-label"> {{endtimeTypeLabels[formModel.update_job.endtimeType]}}</label>
               </div>
            </div>
               <!--  <md-input-container flex>
                    <label>{{LANG.JOB.LABEL.OBJECTIVE}}</label>
                    <textarea name="jobObjective" ng-model="formModel.update_job.objective" columns="1" md-maxlength="150"></textarea>
                    <div ng-messages="form.edit_job.jobObjective.$error">
                        <div ng-message="md-maxlength" class="ng-message">{{LANG.JOB.JOB_CREATE_VALIDATION_MSGS.JOB_OBJECTIVE_LIMIT}}</div>
                    </div>
                </md-input-container> -->
                <!--formModel.isOwner ? 'icon-check-box' : 'icon-check-box-blank' ng-class="{'bg-light-primary':formModel.isOwner}" -->
               <!--  <div class="item item-line-single item-icon-left" ng-click="toggleOwnerFlag()" flex>
                    <i class="icon icon-cling-top" ng-class="formModel.update_job.isOwner ? 'icon-check-box' : 'icon-check-box-blank' "></i>
                    <h2 class="txt txt-line-pri text-wrap">Set as Owner</h2>
                </div> -->
            </md-dialog-content>
            <div class="md-actions full-width" layout="row">
                <span flex></span>
                <md-button ng-click="cancel()">
                    {{LANG.BUTTON.CANCEL}}
                </md-button>
                <md-button type="submit" ng-disabled="!form.update_job.$valid" ng-click="submit()" class="md-primary">{{LANG.BUTTON.UPDATE}}
                </md-button>
            </div>
        </div>
    </form>
</md-dialog>
